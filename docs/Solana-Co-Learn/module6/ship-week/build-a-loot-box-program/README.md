---
sidebar_position: 100
sidebar_label: 💰 构建一个战利品箱程序
sidebar_class_name: green
---

# 💰 构建一个战利品箱程序

既然你已经让程序正常运行了，那我们就来调整前端代码，以适应Anchor。这个设置只需要一分钟，稍等一下，我们会修改一些东西。欢迎来到“发货周”！整个周都致力于让你的项目准备好发货。对我们来说，这意味着buildoors项目。对你来说，也会类似，但希望能加入一些个人风格！

剩下的主要事情就是实现战利品箱。暂时，创建一个简单的战利品箱实现。

那意味着：

没有经过验证的随机性 - 你可以选择一个简单的伪随机实现，或者根本不使用随机性。

现在可以使用静态解决方案，例如不要设计成可以随后更新齿轮类型。暂时保持简单即可。

你可以并且应该在这方面发挥创意。我指的不仅仅是“使用不同的图片”。请随意构建你自己的架构，并进行真正的实验。用密斯·弗里兹尔的不朽名言来说：“冒险一试，犯错误，搞得一团糟！”

> 提示
> 话虽如此，根据我们对战利品箱计划的处理方式，以下是一些建议（是的，我们将其作为一个独立的程序来处理）：


我们使用可替代资产而不是非同质化代币（NFT）来分发战利品箱中的装备。

我们刚刚修改了用于创建BLD代币的脚本，使每件装备都能生成一个“可替代资产”代币。

战利品箱其实只是一个概念 - 没有任何代表它的代币或物品。

为了从多个可能的铸币中分配（随机或其他方式），我们需要设置程序以进行两个单独的交易：

我们首先称之为open_lootbox。它处理燃烧所需的$BLD代币以打开战利品箱，然后伪随机选择要铸造给调用者的装备，但是不立即铸造，而是将选择存储在与用户关联的PDA中。必须这样做，否则你将不得不将所有可能的装备铸造传递给指令，这将非常麻烦。
我们称之为retrieve_item_from_lootbox的第二个函数。这个函数会检查之前提到的PDA，并将指定的装备发放给用户。

再次强调，不要局限于我们的实现方式。在查看我们的解决方案之前，请自己尝试一下。我并不是说只试试20分钟就好了。我花了整整一天的时间才弄明白，所以在求助我们的解决方案之前，不要害怕独立工作相当长的一段时间。

祝你好运！
